<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ConnectKids â€“ Why It Matters</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body class="bg-white overflow-x-hidden">
  <!-- Top Navigation (injected or fallback) -->
  <header
    class="w-full sticky top-0 z-30 bg-white/80 backdrop-blur border-b border-gray-100"
    id="site-header">
    <!-- header.html will be injected here -->
  </header>

  <!-- MAIN CONTENT -->
  <main class="min-h-screen py-12">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">

      <!-- Header -->
      <section class="text-center mb-16">
        <div class="inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-100 to-orange-100 rounded-full mb-4">
          <i data-lucide="alert-circle" class="w-4 h-4 text-red-600"></i>
          <span class="text-sm font-semibold text-red-600">The Opportunity Gap Crisis</span>
        </div>
        <h1 class="text-4xl sm:text-5xl font-bold text-gray-900 mb-6">
          Why
          <span class="bg-gradient-to-r from-red-600 to-orange-600 bg-clip-text text-transparent">
            It Matters
          </span>
        </h1>
        <p class="text-lg text-gray-600 max-w-3xl mx-auto leading-relaxed">
          Millions of children in the United States want to join extracurricular programs but cannot. Cost, transportation, limited local options, low bandwidth, and minimal public awareness prevent children from exploring their interests and building essential skills.
        </p>
      </section>

      <!-- Statistics Cards -->
      <section id="stats-section" class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
        <!-- Cards will be injected by JS -->
      </section>

      <!-- Participation Gap Comparison -->
      <section class="bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-2xl p-1 mb-12 shadow-xl">
        <div class="bg-white rounded-xl p-8">
          <div class="text-center mb-8">
            <h3 class="text-2xl font-bold text-gray-900 mb-2">Participation Gap</h3>
            <p class="text-gray-600">
              in structured summer experiences between income levels
            </p>
          </div>

          <div class="grid md:grid-cols-2 gap-6">
            <div class="text-center p-6 bg-gradient-to-br from-red-50 to-orange-50 rounded-xl">
              <div class="text-6xl font-bold text-red-600 mb-2">
                <span class="gap-counter" data-target="14">0</span>%
              </div>
              <p class="font-semibold text-gray-900">Lower-Income Children</p>
              <p class="text-sm text-gray-600 mt-1">Limited access to summer programs</p>
            </div>

            <div class="text-center p-6 bg-gradient-to-br from-green-50 to-blue-50 rounded-xl">
              <div class="text-6xl font-bold text-green-600 mb-2">
                <span class="gap-counter" data-target="27">0</span>%
              </div>
              <p class="font-semibold text-gray-900">Higher-Income Children</p>
              <p class="text-sm text-gray-600 mt-1">Regular program participation</p>
            </div>
          </div>

          <div class="mt-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl">
            <div class="flex items-center gap-2 text-sm text-gray-700">
              <i data-lucide="arrow-up-right" class="w-5 h-5 text-purple-600"></i>
              <span class="font-semibold">Nearly 2x gap:</span>
              <span>Higher-income children have almost double the participation rate.</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Additional Sections -->
      <section class="grid md:grid-cols-2 gap-8 mb-12">
        <div class="bg-white rounded-2xl p-8 shadow-xl border border-gray-100">
          <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-yellow-500 to-orange-500 flex items-center justify-center mb-4">
            <i data-lucide="target" class="w-7 h-7 text-white"></i>
          </div>
          <h2 class="text-2xl font-bold text-gray-900 mb-4">Neglectedness</h2>
          <p class="text-gray-600 leading-relaxed mb-4">
            Cost and accessibility remain primary barriers. Surveys show families want participation but are shut out due to price, transportation, or awareness.
          </p>
          <p class="text-gray-600 leading-relaxed">
            Policy attention fluctuates, leaving millions without consistent access to the opportunities they deserve.
          </p>
        </div>

        <div class="bg-white rounded-2xl p-8 shadow-xl border border-gray-100">
          <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-green-500 to-teal-500 flex items-center justify-center mb-4">
            <i data-lucide="trending-up" class="w-7 h-7 text-white"></i>
          </div>
          <h2 class="text-2xl font-bold text-gray-900 mb-4">Long-Term Impact</h2>
          <p class="text-gray-600 leading-relaxed mb-4">
            Research links extracurricular participation to higher engagement, college attendance, better earnings, and stronger social capital.
          </p>
          <p class="text-gray-600 leading-relaxed">
            Each child gaining access benefits themselves, their families, and society as a whole.
          </p>
        </div>
      </section>

      <!-- Call to Action -->
      <section class="bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 rounded-2xl p-12 text-center text-white shadow-2xl">
        <h2 class="text-3xl font-bold mb-4">Together, We Can Close This Gap</h2>
        <p class="text-xl mb-8 text-white/90 max-w-2xl mx-auto">
          Every child deserves the chance to explore their interests and develop their talents, regardless of family income.
        </p>
        <div class="flex flex-wrap justify-center gap-4">
          <a data-page="Opportunities"
             class="px-8 py-4 bg-white text-purple-600 rounded-xl font-bold hover:bg-gray-100 transition-all shadow-lg cursor-pointer">
            Browse Programs
          </a>
          <a data-page="CreateOpportunity"
             class="px-8 py-4 bg-white/10 backdrop-blur-sm border-2 border-white text-white rounded-xl font-bold hover:bg-white/20 transition-all cursor-pointer">
            Create Opportunity
          </a>
        </div>
      </section>

    </div>
  </main>

  <script>
    // ---------- ROUTING ----------
    function createPageUrl(page) {
      const routes = {
        Home: "home.html",
        Opportunities: "opportunities.html",
        CreateOpportunity: "create-opportunity.html",
        Donate: "donate.html",
        CompleteProfile: "complete-profile.html",
        Impact: "impact.html",
        Statistics: "statistics.html"
      };
      return routes[page] || "home.html";
    }

    function wireRouting() {
      document.querySelectorAll("[data-page]").forEach(el => {
        const page = el.getAttribute("data-page");
        const url = createPageUrl(page);

        if (el.tagName.toLowerCase() === "a") {
          el.setAttribute("href", url);
        } else {
          el.addEventListener("click", () => (window.location.href = url));
        }
      });
    }

    function initIcons() {
      if (window.lucide) {
        window.lucide.createIcons();
      }
    }

    // ---------- STATS CONFIG ----------
    const STATS = [
      {
        value: 36000000,
        label: "People in Poverty",
        sublabel: "Including millions of children most likely to lack extracurriculars",
        icon: "users",
        color: "from-red-500 to-pink-500"
      },
      {
        value: 15000000,
        label: "Low-Income Children",
        sublabel: "Who did not have summer learning opportunities in 2023",
        icon: "alert-circle",
        color: "from-orange-500 to-red-500"
      },
      {
        value: 24600000,
        label: "Families Reporting",
        sublabel: "Inability to access afterschool programs (60% increase since 2004)",
        icon: "trending-up",
        color: "from-purple-500 to-pink-500"
      }
    ];

    document.addEventListener("DOMContentLoaded", function () {
      const headerEl = document.getElementById("site-header");

      // Fallback header in case header.html can't be fetched (e.g., file://)
      const fallbackHeader = `
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
          <div class="flex items-center gap-2">
            <div class="w-8 h-8 rounded-xl bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 flex items-center justify-center">
              <i data-lucide="sparkles" class="w-4 h-4 text-white"></i>
            </div>
            <a data-page="Home" class="text-lg font-bold tracking-tight text-gray-900 hover:text-purple-600 cursor-pointer">
              ConnectKids
            </a>
          </div>
          <nav class="hidden sm:flex items-center gap-6 text-sm font-medium">
            <a data-page="Opportunities" class="text-gray-600 hover:text-purple-600 cursor-pointer">Programs</a>
            <a data-page="CreateOpportunity" class="text-gray-600 hover:text-purple-600 cursor-pointer">Create Opportunity</a>
            <a data-page="Impact" class="text-gray-600 hover:text-purple-600 cursor-pointer">Impact</a>
            <a data-page="Statistics" class="text-gray-600 hover:text-purple-600 cursor-pointer">Statistics</a>
            <a data-page="Donate" class="inline-flex items-center px-4 py-2 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md hover:shadow-lg hover:from-blue-700 hover:to-purple-700 cursor-pointer">
              Support Us
            </a>
          </nav>
        </div>
      `;

      // Try to inject header.html, else use fallback
      fetch("header.html")
        .then(res => {
          if (!res.ok) throw new Error("header not found");
          return res.text();
        })
        .then(html => {
          headerEl.innerHTML = html;
        })
        .catch(() => {
          headerEl.innerHTML = fallbackHeader;
        })
        .finally(() => {
          wireRouting();
          initIcons();
        });

      // Render stat cards
      const statsSection = document.getElementById("stats-section");
      STATS.forEach(stat => {
        const card = document.createElement("div");
        card.className =
          "bg-white rounded-2xl p-8 shadow-xl border border-gray-100 hover:shadow-2xl transition-all duration-300";

        card.innerHTML = `
          <div class="w-14 h-14 rounded-2xl bg-gradient-to-br ${stat.color} flex items-center justify-center mb-4">
            <i data-lucide="${stat.icon}" class="w-7 h-7 text-white"></i>
          </div>
          <div class="text-5xl font-bold mb-3 bg-gradient-to-r ${stat.color} bg-clip-text text-transparent">
            <span class="stat-counter" data-target="${stat.value}">0</span>
          </div>
          <h3 class="text-lg font-bold text-gray-900 mb-2">${stat.label}</h3>
          <p class="text-sm text-gray-600 leading-relaxed">${stat.sublabel}</p>
        `;

        statsSection.appendChild(card);
      });

      // Re-run icons for dynamically added content
      initIcons();

      // ---------- COUNTER ANIMATION ----------
      let countersStarted = false;

      function animateCounter(el, duration) {
        const target = parseInt(el.getAttribute("data-target"), 10);
        let startTime = null;

        function tick(timestamp) {
          if (!startTime) startTime = timestamp;
          const progress = Math.min((timestamp - startTime) / duration, 1);
          const current = Math.floor(target * progress);
          el.textContent = current.toLocaleString();
          if (progress < 1) {
            requestAnimationFrame(tick);
          }
        }

        requestAnimationFrame(tick);
      }

      const observer = new IntersectionObserver(
        entries => {
          entries.forEach(entry => {
            if (entry.isIntersecting && !countersStarted) {
              countersStarted = true;

              document.querySelectorAll(".stat-counter").forEach(el => {
                animateCounter(el, 2000);
              });

              document.querySelectorAll(".gap-counter").forEach(el => {
                animateCounter(el, 1500);
              });

              observer.disconnect();
            }
          });
        },
        { threshold: 0.2 }
      );

      if (statsSection) observer.observe(statsSection);
    });
  </script>
</body>
</html>
